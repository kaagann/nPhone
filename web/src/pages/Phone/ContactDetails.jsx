import React from 'react';
import { motion } from 'framer-motion';
import { usePhone } from '../Rehber';
import { BsTelephone } from 'react-icons/bs';
import { HiOutlineVideoCamera } from 'react-icons/hi';
import { useEffect } from 'react';
import { attemptCall } from '../../utils/misc';
import { fetchNui } from '../../utils/fetchNui';
import { useNavigate } from 'react-router-dom';
import { REDIRECT_PATH } from '../../utils/router';
import { useSettings } from '../../contexts/SettingsContext';

function ContactDetails() {
    const { paginate, setNavigation, oldPage, customData } = usePhone();
    const navigate = useNavigate();
    const { setCache, cache } = useSettings();
    useEffect(() => {
        setNavigation(false);
    }, []);

    return (
        <div
            // animate={{x: 300}}
            className="page bg-white dark:bg-[#0D0D0D]"
        >
            <div className="absolute top-0 left-0 w-full border-b border-gray-200 bg-gray-50 px-3 pt-6 pb-1">
                <p
                    onClick={() => paginate(oldPage)}
                    className="inter cursor-pointer text-sm hover:text-blue-500"
                >
                    Geri
                </p>
            </div>

            <motion.div
                initial={{ x: 500 }}
                animate={{ x: 0 }}
                exit={{ x: 500 }}
                // exit={{x: 500}}
                transition={{ ease: 'easeOut', duration: 0.3 }}
            >
                <div className="mt-10 flex w-full flex-col items-center  ">
                    <img
                        className="h-[90px] w-[90px] rounded-full"
                        src="https://kagan.app/images/phone/user.png"
                    />
                    <p className="inter mt-3 text-[20px] font-bold text-[#5D5D5D] dark:text-[#DADADA]">
                        {customData.name} {customData.surname}
                    </p>
                    <p className="font-ligth inter text-base text-[#5D5D5D]  dark:text-[#ABABAB]">
                        {customData.job ?? 'Meslek Belirtilmemiş'}
                    </p>
                </div>

                <div className="mt-4 flex items-center justify-evenly">
                    <div
                        onClick={() => attemptCall(customData.number)}
                        className="flex h-10 w-10 cursor-pointer items-center  justify-center rounded-full border  border-[#BFBFBF]"
                    >
                        <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <g clip-path="url(#clip0_10_128)">
                                <path
                                    d="M18.3083 15.275C18.3083 15.575 18.2416 15.8833 18.1 16.1833C17.9583 16.4833 17.775 16.7667 17.5333 17.0333C17.125 17.4833 16.675 17.8083 16.1666 18.0167C15.6666 18.225 15.125 18.3333 14.5416 18.3333C13.6916 18.3333 12.7833 18.1333 11.825 17.725C10.8666 17.3167 9.90829 16.7667 8.95829 16.075C7.99005 15.3668 7.07637 14.5868 6.22496 13.7417C5.38227 12.8933 4.60504 11.9824 3.89996 11.0167C3.21663 10.0667 2.66663 9.11667 2.26663 8.17501C1.86663 7.22501 1.66663 6.31667 1.66663 5.45C1.66663 4.88334 1.76663 4.34167 1.96663 3.84167C2.16663 3.33334 2.48329 2.86667 2.92496 2.45001C3.45829 1.92501 4.04163 1.66667 4.65829 1.66667C4.89163 1.66667 5.12496 1.71667 5.33329 1.81667C5.54996 1.91667 5.74163 2.06667 5.89163 2.28334L7.82496 5.00834C7.97496 5.21667 8.08329 5.40834 8.15829 5.59167C8.23329 5.76667 8.27496 5.94167 8.27496 6.10001C8.27496 6.30001 8.21663 6.5 8.09996 6.69167C7.99163 6.88334 7.83329 7.08334 7.63329 7.28334L6.99996 7.94167C6.90829 8.03334 6.86663 8.14167 6.86663 8.27501C6.86663 8.34167 6.87496 8.4 6.89163 8.46667C6.91663 8.53334 6.94163 8.58334 6.95829 8.63334C7.10829 8.90834 7.36663 9.26667 7.73329 9.70001C8.10829 10.1333 8.50829 10.575 8.94163 11.0167C9.39163 11.4583 9.82496 11.8667 10.2666 12.2417C10.7 12.6083 11.0583 12.8583 11.3416 13.0083C11.3833 13.025 11.4333 13.05 11.4916 13.075C11.5583 13.1 11.625 13.1083 11.7 13.1083C11.8416 13.1083 11.95 13.0583 12.0416 12.9667L12.675 12.3417C12.8833 12.1333 13.0833 11.975 13.275 11.875C13.4666 11.7583 13.6583 11.7 13.8666 11.7C14.025 11.7 14.1916 11.7333 14.375 11.8083C14.5583 11.8833 14.75 11.9917 14.9583 12.1333L17.7166 14.0917C17.9333 14.2417 18.0833 14.4167 18.175 14.625C18.2583 14.8333 18.3083 15.0417 18.3083 15.275Z"
                                    stroke="#666666"
                                    stroke-width="1.5"
                                    stroke-miterlimit="10"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_10_128">
                                    <rect
                                        width="20"
                                        height="20"
                                        fill="#666666"
                                    />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                    <div className="flex h-10 w-10  cursor-pointer items-center justify-center rounded-full border border-[#BFBFBF]">
                        <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M3.58333 16.6C3.44167 16.6 3.3 16.55 3.18333 16.4583C2.34167 15.7667 1.875 14.6583 1.875 13.3333V6.66666C1.875 3.81666 2.98333 2.70833 5.83333 2.70833H10.8333C12.5333 2.70833 14.3167 3.02499 14.7 5.39999C14.7583 5.74166 14.525 6.05833 14.1833 6.11666C14.1023 6.1301 14.0194 6.12737 13.9395 6.10863C13.8595 6.0899 13.7841 6.05553 13.7175 6.00751C13.6508 5.95948 13.5944 5.89875 13.5513 5.82881C13.5083 5.75887 13.4795 5.6811 13.4667 5.59999C13.2917 4.51666 12.8333 3.95833 10.8333 3.95833H5.83333C3.68333 3.95833 3.125 4.51666 3.125 6.66666V13.3333C3.125 13.875 3.23333 14.8833 3.975 15.4917C4.24167 15.7083 4.28333 16.1083 4.05833 16.375C3.94167 16.525 3.75833 16.6 3.58333 16.6ZM10.8333 17.2917H6.66667C6.325 17.2917 6.04167 17.0083 6.04167 16.6667C6.04167 16.325 6.325 16.0417 6.66667 16.0417H10.8333C12.9833 16.0417 13.5417 15.4833 13.5417 13.3333V9.16666C13.5417 8.82499 13.825 8.54166 14.1667 8.54166C14.5083 8.54166 14.7917 8.82499 14.7917 9.16666V13.3333C14.7917 16.1833 13.6833 17.2917 10.8333 17.2917Z"
                                fill="#666666"
                            />
                            <path
                                d="M17.3317 15.0333C16.9734 15.0333 16.5317 14.9167 16.0067 14.55L13.8067 13.0083C13.7397 12.9615 13.6826 12.9019 13.6387 12.8329C13.5948 12.7639 13.565 12.6868 13.5511 12.6063C13.5371 12.5257 13.5393 12.4431 13.5574 12.3634C13.5756 12.2837 13.6093 12.2083 13.6567 12.1417C13.8567 11.8583 14.2401 11.7917 14.5234 11.9917L16.7234 13.5333C17.0901 13.7917 17.3567 13.8167 17.4651 13.7583C17.5734 13.7 17.7067 13.475 17.7067 13.025V5.83333C17.7067 5.49166 17.9901 5.20833 18.3317 5.20833C18.6734 5.20833 18.9567 5.49166 18.9567 5.83333V13.0167C18.9567 14.2083 18.3817 14.6833 18.0401 14.8583C17.8817 14.9417 17.6401 15.0333 17.3317 15.0333ZM1.68339 19.1158C1.52505 19.1158 1.36672 19.0575 1.24172 18.9325C1.12549 18.8149 1.0603 18.6562 1.0603 18.4908C1.0603 18.3255 1.12549 18.1668 1.24172 18.0492L17.9084 1.3825C18.1501 1.14083 18.5501 1.14083 18.7917 1.3825C19.0334 1.62416 19.0334 2.02416 18.7917 2.26583L2.12505 18.9325C2.00839 19.0575 1.84172 19.1158 1.68339 19.1158Z"
                                fill="#666666"
                            />
                        </svg>
                    </div>
                    <div
                        onClick={e => {
                            setCache({ ...cache, number: customData.number });
                            navigate(REDIRECT_PATH.MESSAGES);
                        }}
                        className="flex h-10 w-10  cursor-pointer items-center justify-center rounded-full border border-[#BFBFBF]"
                    >
                        <svg
                            width="18"
                            height="18"
                            viewBox="0 0 18 18"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <g clip-path="url(#clip0_10_141)">
                                <path
                                    d="M12.675 14.259C12.4425 14.259 12.21 14.1915 12.0075 14.0565L11.2875 13.584C11.1881 13.518 11.1121 13.4222 11.0703 13.3104C11.0286 13.1987 11.0232 13.0765 11.055 12.9615C11.1075 12.789 11.13 12.5865 11.13 12.3615V9.309C11.13 8.0865 10.365 7.3215 9.14247 7.3215H4.04997C3.95997 7.3215 3.87747 7.329 3.79497 7.3365C3.63833 7.34437 3.48485 7.29052 3.36747 7.1865C3.30957 7.13474 3.26351 7.07109 3.23245 6.9999C3.20138 6.92871 3.18604 6.85166 3.18747 6.774V4.6965C3.18747 2.4915 4.73247 0.946503 6.93747 0.946503H13.3125C15.5175 0.946503 17.0625 2.4915 17.0625 4.6965V8.5215C17.0625 9.609 16.695 10.569 16.02 11.229C15.48 11.7765 14.73 12.129 13.875 12.234V13.0665C13.875 13.5165 13.6275 13.9215 13.2375 14.1315C13.0575 14.214 12.8625 14.259 12.675 14.259ZM12.225 12.849L12.7125 13.1265C12.7575 13.104 12.7575 13.0665 12.7575 13.059V11.7015C12.7575 11.394 13.0125 11.139 13.32 11.139C14.1075 11.139 14.775 10.8915 15.2325 10.4265C15.705 9.9615 15.945 9.3015 15.945 8.514V4.689C15.945 3.0915 14.9175 2.064 13.32 2.064H6.94497C5.34747 2.064 4.31997 3.0915 4.31997 4.689V6.189H9.14997C10.98 6.189 12.2625 7.4715 12.2625 9.3015V12.354C12.255 12.5265 12.2475 12.6915 12.225 12.849Z"
                                    fill="#666666"
                                />
                                <path
                                    d="M4.5525 17.0625C4.3875 17.0625 4.215 17.025 4.0575 16.9425C3.705 16.755 3.4875 16.395 3.4875 15.99V15.42C2.8275 15.315 2.2425 15.0375 1.8075 14.6025C1.2375 14.0325 0.9375 13.2525 0.9375 12.3525V9.3C0.9375 7.605 2.0475 6.36 3.6975 6.2025C3.8175 6.195 3.93 6.1875 4.05 6.1875H9.1425C10.9725 6.1875 12.255 7.47 12.255 9.3V12.3525C12.255 12.6825 12.2175 12.99 12.135 13.2675C11.7975 14.6175 10.65 15.465 9.1425 15.465H7.275L5.1525 16.875C4.9725 17.0025 4.7625 17.0625 4.5525 17.0625ZM4.05 7.3125C3.96 7.3125 3.8775 7.32 3.795 7.3275C2.715 7.425 2.0625 8.1675 2.0625 9.3V12.3525C2.0625 12.9525 2.25 13.455 2.6025 13.8075C2.9475 14.1525 3.45 14.34 4.05 14.34C4.3575 14.34 4.6125 14.595 4.6125 14.9025V15.885L6.7875 14.4375C6.8775 14.3775 6.99 14.34 7.1025 14.34H9.1425C10.1325 14.34 10.83 13.845 11.0475 12.975C11.1 12.7875 11.13 12.5775 11.13 12.3525V9.3C11.13 8.0775 10.365 7.3125 9.1425 7.3125H4.05Z"
                                    fill="#666666"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_10_141">
                                    <rect width="18" height="18" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                    <div className="flex h-10 w-10  cursor-pointer items-center justify-center rounded-full border border-[#BFBFBF]">
                        <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M10.0001 11.0833C9.89172 11.0833 9.78339 11.0583 9.68339 11L2.32506 6.74166C2.25392 6.70008 2.19168 6.64489 2.14187 6.57925C2.09207 6.51361 2.05568 6.4388 2.03479 6.35909C2.0139 6.27939 2.00891 6.19635 2.0201 6.11472C2.0313 6.03309 2.05847 5.95446 2.10006 5.88333C2.14164 5.8122 2.19683 5.74995 2.26247 5.70015C2.32811 5.65034 2.40292 5.61396 2.48262 5.59306C2.56233 5.57217 2.64536 5.56718 2.727 5.57838C2.80863 5.58958 2.88726 5.61674 2.95839 5.65833L10.0001 9.73333L17.0001 5.68333C17.1441 5.60091 17.3147 5.57831 17.4752 5.62039C17.6357 5.66246 17.7733 5.76586 17.8584 5.90833C18.0334 6.20833 17.9251 6.59166 17.6334 6.76666L10.3251 11C10.224 11.0509 10.1131 11.0793 10.0001 11.0833Z"
                                fill="#666666"
                            />
                            <path
                                d="M10 18.6333C9.65833 18.6333 9.375 18.35 9.375 18.0083V10.45C9.375 10.1083 9.65833 9.825 10 9.825C10.3417 9.825 10.625 10.1083 10.625 10.45V18.0083C10.625 18.35 10.3417 18.6333 10 18.6333Z"
                                fill="#666666"
                            />
                            <path
                                d="M10 18.9583C9.2667 18.9583 8.5417 18.8 7.9667 18.4833L3.5167 16.0083C2.30837 15.3417 1.3667 13.7333 1.3667 12.35V7.64167C1.3667 6.25834 2.30837 4.65834 3.5167 3.98334L7.9667 1.51667C9.10837 0.883338 10.8917 0.883338 12.0334 1.51667L16.4834 3.99167C17.6917 4.65834 18.6334 6.26667 18.6334 7.65001V12.3583C18.6334 13.7417 17.6917 15.3417 16.4834 16.0167L12.0334 18.4833C11.4584 18.8 10.7334 18.9583 10 18.9583ZM10 2.29167C9.47503 2.29167 8.95837 2.40001 8.57503 2.60834L4.12503 5.08334C3.32503 5.525 2.6167 6.725 2.6167 7.64167V12.35C2.6167 13.2667 3.32503 14.4667 4.12503 14.9167L8.57503 17.3917C9.33337 17.8167 10.6667 17.8167 11.425 17.3917L15.875 14.9167C16.675 14.4667 17.3834 13.275 17.3834 12.35V7.64167C17.3834 6.725 16.675 5.52501 15.875 5.07501L11.425 2.6C11.0417 2.4 10.525 2.29167 10 2.29167Z"
                                fill="#666666"
                            />
                        </svg>
                    </div>
                </div>

                <div className="mt-4 w-full divide-y border-y border-gray-200  bg-[#FBFBFB] p-1 px-4">
                    <div className="py-1">
                        <p className="inter text-xs">Cep</p>
                        <p className="inter text-sm opacity-75">
                            {customData.number}
                        </p>
                    </div>
                    <div className="py-1">
                        <p className="inter text-xs">Iban</p>
                        <p className="inter text-sm opacity-75">
                            {customData.iban}
                        </p>
                    </div>
                    <div className="py-1">
                        <p className="inter text-xs">Notlar</p>
                        <p className="inter text-sm opacity-75">
                            {customData.not ?? 'Henüz bir not girilmemiş'}
                        </p>
                    </div>
                </div>

                <div className="mt-2 w-full divide-y border-y border-gray-200 bg-[#FBFBFB] p-1 px-4">
                    <p
                        className="inter cursor-pointer py-1 text-sm"
                        onClick={() =>
                            fetchNui('setContactFast', {
                                number: customData.number,
                                bool: !customData.fast
                            })
                        }
                    >
                        {customData.fast
                            ? 'Hızlı Aramadan Çıkart'
                            : 'Hızlı Aramaya Ekle'}
                    </p>
                    <p
                        onClick={() =>
                            fetchNui('setContactFavori', customData.number)
                        }
                        className="inter cursor-pointer py-1 text-sm"
                    >
                        {customData.favorite
                            ? 'Favorilerden Çıkar'
                            : 'Favorilere Ekle'}
                    </p>
                    <p
                        onClick={
                            () => {
                                setCache({ ...cache, contact: customData });
                                paginate('newcontact');
                            }
                            // fetchNui('setContactFavori', customData.number)
                        }
                        className="inter cursor-pointer py-1 text-sm"
                    >
                        Kişiyi Düzenle
                    </p>
                    <p className="inter cursor-pointer py-1 text-sm text-[#CD2C2C] ">
                        Bu Arayanı Engelle
                    </p>
                </div>
            </motion.div>
        </div>
    );
}

export default ContactDetails;
